<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/quarto-contrib/live-runtime/live-runtime.js" type="module"></script>
<link href="site_libs/quarto-contrib/live-runtime/live-runtime.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.25">

  <meta name="author" content="Francesco Turci">
  <title>Complex Disordered Systems</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-534cd8e3a96973385dffff3f4709048d.css">
  <link rel="stylesheet" href="styles.css">
  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
  <link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Complex Disordered Systems</h1>
  <p class="subtitle">Interactions between colloids</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Francesco Turci 
</div>
</div>
</div>

</section>
<section id="today" class="slide level2">
<h2>Today</h2>
<ul>
<li><strong>Colloid-colloid interactions</strong>
<ul>
<li>van der Waals interactions</li>
<li>double layer interactions</li>
<li>Entropic interactions: the Asakura-Oosawa model of depletion</li>
</ul></li>
</ul>
</section>
<section id="interactions-between-colloids" class="slide level2">
<h2>Interactions between colloids</h2>
<p>We distinguished between <strong>fundamental</strong> and <strong>effective</strong> forces between colloids</p>
<div class="column" style="background-color: #f0f8ff; border-radius: 5px;">
<ul>
<li><strong>Fundamental forces:</strong></li>
<li>gravity</li>
<li>electro (magneto) static forces</li>
</ul>
</div><div class="column" style="background-color: #fff8f0; padding: 0em; border-radius: 5px;">
<ul>
<li><strong>Effective forces</strong></li>
<li>Van der Waals forces</li>
<li>electrostatic repulsion (DLVO)</li>
<li>depletion forces</li>
<li>hydrophobic/hydrophilic interactions</li>
<li>steric forces</li>
</ul>
</div><ul>
<li>Effective interactions emerge from the fundamental ones and structure our description at the colloidal scale.</li>
<li>Fluctuations of fundamental forces are often at the origin of the effective forces.</li>
<li>We focus on <strong>effective interactions</strong> (revise your electrostatics if needed)</li>
</ul>
</section>
<section id="van-der-waals-interactions" class="slide level2">
<h2>van der Waals interactions</h2>
<p>IUPAC definition:</p>
<blockquote>
<p>The <strong>attractive</strong> or <strong>repulsive</strong> forces between molecular entities (or between groups within the same molecular entity) <mark>other than</mark> those due to bond formation or to the electrostatic interaction of ions or of ionic groups with one another or with neutral molecules. The term includes:</p>
</blockquote>
<blockquote>

<ul>
<li><strong>dipole‚Äìdipole</strong></li>
<li><strong>dipole-induced dipole</strong></li>
<li>London (instantaneous, spontaneous <strong>dipole-induced dipole</strong>) forces.</li>
</ul>

</blockquote>
<blockquote>
<p>The term is sometimes used loosely for the totality of nonspecific attractive or repulsive intermolecular forces.</p>
</blockquote>
</section>
<section id="reminder-multipole-expansion" class="slide level2">
<h2>Reminder: Multipole expansion</h2>
<p>The electrostatic potential of a charge distribution can be expanded as:</p>
<p><span class="math display"> V(\mathbf{r})=\frac{1}{4 \pi \epsilon_0} \sum_{l=0}^{\infty} \sum_{m=-l}^l \frac{4 \pi}{2 l+1} \frac{Q_{l m}}{r^{l+1}} Y_l^m(\theta, \phi)</span></p>
<p>where <span class="math inline">Y_l^m(\theta, \phi)</span> are spherical harmonics and <span class="math inline">Q_{l m}=\int r^{\prime l} Y_l^{m *}\left(\theta^{\prime}, \phi^{\prime}\right) \rho\left(\mathbf{r}^{\prime}\right) d^3 r^{\prime}</span>:</p>
<ul>
<li><span class="math inline">Q_{00} = Q</span> (monopole - total charge)</li>
<li><span class="math inline">Q_{1m}</span> terms give the <strong>dipole moment</strong> <span class="math inline">\mathbf{p}</span></li>
<li><span class="math inline">Q_{2m}</span> terms give the <strong>quadrupole moment</strong></li>
<li>Higher terms: octupole, hexadecapole, etc.</li>
</ul>
<p>For large distances (<span class="math inline">r \gg</span> molecular size), the potential is dominated by the lowest <strong>non-zero multipole</strong> moment.</p>
<div class="callout callout-note no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>No need to memorise this.</p>
</div>
</div>
</div>
</section>
<section id="van-der-waals-interactions-dipole-dipole" class="slide level2">
<h2>van der Waals interactions: dipole-dipole</h2>
<p>We are focusing on atoms that are globally neutral. The first non-trivial term is the dipole.</p>
<p>Static dipoles are asymmetric distributions of charge stationary in time</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./figs/dipole-dipole.png" height="200"></p>
<figcaption>Dipole-dipole interaction</figcaption>
</figure>
</div>
<p>The interaction energy between two dipoles <span class="math inline">\mu_1</span> and <span class="math inline">\mu_2</span> separated by a distance <span class="math inline">r</span> is proportional to:</p>
<p><span class="math display">U(r) \propto-\frac{\mu_1 \mu_2}{r^3}</span></p>
</section>
<section id="van-der-waals-interactions-dipole-induced-dipole" class="slide level2">
<h2>van der Waals interactions: dipole-induced dipole</h2>
<p>A permanent dipole can induce a temporary dipole in a nearby neutral atom. The induced dipole then interacts with the permanent dipole.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./figs/dipole-induceddipole1.png" height="100"></p>
<figcaption>Atom A with permanent dipole approaches neutral atom B.</figcaption>
</figure>
</div>
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./figs/dipole-induceddipole2.png" height="100"></p>
<figcaption>B‚Äôs charge density changes and B takes an <strong>induced</strong> dipole</figcaption>
</figure>
</div>
</div>
<p>The induced dipole itself is proportional to the electric field of the incoming dipole, and it is <span class="math inline">\mu_B \propto \mu_A E_A \propto \dfrac{\mu}{r^3}</span>.</p>
<p>Then the interaction energy is just</p>
<p><span class="math display">U(r) \propto -\frac{\mu^2 \alpha}{r^6}</span></p>
<p>where <span class="math inline">\alpha</span> is the polarizability of the neutral atom.</p>
</section>
<section id="induced-dipole-induced-dipole-interactions" class="slide level2">
<h2>Induced dipole-induced dipole interactions</h2>
<ul>
<li><p>Orbitals provide the <strong>average expected electron density</strong> at every point in space, <span class="math inline">\langle\rho(\mathbf{r})\rangle=|\psi(\mathbf{r})|^2</span></p></li>
<li><p>Instantaneous fluctuations from the mean occur in time and depend on density-density <strong>correlations</strong>. <strong>The variance is non-uniform</strong> .</p></li>
<li><p>This means that even when the density is neutral, on short timescales (femtoseconds, electronic transition times) the density distributions can be thought of as <strong>asymmetric</strong>.</p></li>
</ul>
<p>These quantum-mechanical fluctuations again produce interactions known as <strong>London dispersion forces</strong></p>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>London dispersion interaction</strong></p>
</div>
<div class="callout-content">
<p><span class="math display">\Large U(r)=-\frac{C}{r^6} </span></p>
</div>
</div>
</div>
<p>The key insight is the <span class="math inline">1/r^{6}</span> decay of the interaction which decays much more rapidly than Coulomb‚Äôs <span class="math inline">1/r</span>.</p>
<p>They are <strong>short-range</strong> in 3D, since the total energy scales like <span class="math inline">\sim \int V(r) r^{d-1} d r</span> and <span class="math inline">6&gt;3</span></p>
</section>
<section id="van-der-waals-attractive-interaction-between-spheres" class="slide level2">
<h2>van der Waals attractive interaction between spheres</h2>
<p>Take now two spherical colloids of radius <span class="math inline">R</span> at distance <span class="math inline">H</span>.</p>
<p>Integrating the London interaction over all volume elements yields the <strong>van der Waals attractive potential</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./figs/hamakercolloid.png" height="150"></p>
<figcaption>Colloid-colloid setup.</figcaption>
</figure>
</div>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Colloid-colloid van der Waals attractive interaction</strong></p>
</div>
<div class="callout-content">
<p><span class="math display">\Large W_{w d W}(h)=-\frac{A_H}{g} f(h / R)</span></p>
</div>
</div>
</div>
<p>where <span class="math inline">A_H</span> is the <strong>Hamaker</strong> constant and <span class="math inline">f(h / R)=\left[\frac{2 R^2}{h^2-4 R^2}+\frac{2 R^2}{h^2}+\ln \left(\frac{h^2-4 R^2}{h^2}\right)\right]</span>.</p>
</section>
<section id="van-der-waals-attractive-interaction-between-spheres-1" class="slide level2">
<h2>van der Waals attractive interaction between spheres</h2>
<div>
<div id="pyodide-1" class="exercise-cell">

</div>
<script type="pyodide-1-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZSwicnVuYnV0dG9uIjpmYWxzZX0sImNvZGUiOiJpbXBvcnQgbnVtcHkgYXMgbnBcbmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHRcblIgPSA1LjAgICMgUmFkaXVzIG9mIHRoZSBjb2xsb2lkXG5BX0ggPSAxZS0yMCAgIyBIYW1ha2VyIGNvbnN0YW50IChpbiBKb3VsZXMpXG5cbmRlZiBwbG90KCk6XG5cbiAgICBoID0gbnAubGluc3BhY2UoMi4wMSAqIFIsIDIwLCAxMDAwKSAgIyBTZXBhcmF0aW9uIGRpc3RhbmNlIChoID4gMlIpXG4gICAgIyBWYW4gZGVyIFdhYWxzIHBvdGVudGlhbFxuICAgIGRlZiB2YW5fZGVyX3dhYWxzX3BvdGVudGlhbChoLCBSLCBBX0gpOlxuICAgICAgICBmX2hfUiA9ICgyICogUioqMiAvIChoKioyIC0gNCAqIFIqKjIpKSArICgyICogUioqMiAvIGgqKjIpICsgbnAubG9nKChoKioyIC0gNCAqIFIqKjIpIC8gaCoqMilcbiAgICAgICAgcmV0dXJuIC1BX0ggKiBmX2hfUlxuICAgIFdfdmRXID0gdmFuX2Rlcl93YWFsc19wb3RlbnRpYWwoaCwgUiwgQV9IKVxuICAgIHBsdC5maWd1cmUoZmlnc2l6ZT0oOSwzKSlcbiAgICBwbHQucGxvdChoLCBXX3ZkVylcbiAgICBwbHQueGxhYmVsKFwiaFwiKVxuICAgIHBsdC55bGFiZWwoXCJXdmRXXCIpXG4gICAgcGx0LnRpZ2h0X2xheW91dCgpXG4gICAgcGx0LnhsaW0oNSwyMClcbiAgICByZXR1cm4gaCwgV192ZFcifQ==
</script>
</div>
<div>
<div id="pyodide-2" class="exercise-cell">

</div>
<script type="pyodide-2-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiIyBwYXJhbWV0ZXJzOiBjaGFuZ2UgdGhlbSB0byBleHBsb3JlIHRoZSBpbnRlcmFjdGlvbiFcblIgPSA1LjAgICMgUmFkaXVzIG9mIHRoZSBjb2xsb2lkXG5BX0ggPSAxZS0yMCAgIyBIYW1ha2VyIGNvbnN0YW50IChpbiBKb3VsZXMpXG5oLFcgPSBwbG90KClcbnBsdC5zaG93KCkifQ==
</script>
</div>
</section>
<section id="double-layer-interaction-structure" class="slide level2">
<h2>Double-layer interaction: structure</h2>
<p>Colloids are often charged. In the solution there will be</p>
<ul>
<li><strong>co-ions</strong> (same charge as the colloid) that will be pushed away from the colloid surface, while</li>
<li><strong>counter-ions</strong> (opposite charge) will accumulate at the surface.</li>
</ul>
<div class="columns">
<div class="column">
<ul>
<li><p>A <strong>double layer</strong> forms due to the accumulation of counter-ions near the colloid surface, and repulsion of co-ions.</p></li>
<li><p>Its width depends on the <strong>ion concentration</strong> in the solvent, which can be adjusted by adding or removing salts.</p></li>
</ul>
</div><div class="column">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./figs/Double_Layer.png" height="500"></p>
<figcaption>Double layer close to a surface (Wikimedia).</figcaption>
</figure>
</div>
</div></div>
</section>
<section id="double-layer-interaction-nonlinear-poisson-bolztmann-equation" class="slide level2">
<h2>Double-layer interaction: nonlinear Poisson-Bolztmann equation</h2>
<p>When two colloids come close, the charges in their double layers will interact, giving rise to a <strong>repulsive interaction</strong>. This is not simply a Coulombic interaction, as it is mediated by the other (opposite) charges in the medium.</p>
<p>This means in practice taking Poisson‚Äôs equation</p>
<p><span class="math display">
\nabla^2 \psi(\mathbf{r})=-\frac{\rho_{\mathrm{tot}}(\mathbf{r})}{\varepsilon}= -\frac{\rho_{\mathrm{fixed}}(\mathbf{r})+\sum_i \rho_{\mathrm{ions},i}(\mathbf{r})}{\varepsilon}
</span></p>
<p>and making the ion concentration depend on the electrostatic potential <span class="math inline">\psi(\mathbf{r})</span> itself via a Boltzmann weight</p>
<p><span class="math display">
\rho_{\mathrm{ions},i}(\mathbf{r})= z_i e n_{s,i} \exp \left(-\frac{z_i e \psi}{k_B T}\right)
</span></p>
<p>with <span class="math inline">n_{s,i}</span> the far-away (bulk) concentration of ions of species <span class="math inline">i</span> and <span class="math inline">z_i e</span> the ion charge.</p>
<p>This yields the <strong>nonlinear Poisson-Bolztmann equation</strong></p>
<p><span class="math display">
\nabla^2 \psi(\mathbf{r})=-\frac{1}{\varepsilon}\left[\rho_{\text {fixed }}+ \sum_i z_i e  n_{s,i} \exp \left(-\frac{z_i e \psi}{k_B T}\right)\right] .
</span></p>
<div class="callout callout-note no-icon callout-style-simple">
<div class="callout-body">
<div class="callout-content">
<p>No need to memorise this.</p>
</div>
</div>
</div>
</section>
<section id="double-layer-interaction-screened-repulsion" class="slide level2">
<h2>Double-layer interaction: screened repulsion</h2>
<p>Linearisation around room temperature (<span class="math inline">e\psi\ll k_BT</span>) yields the <strong>Debye‚ÄìH√ºckel equation</strong></p>
<p><span class="math display">
\nabla^2 \psi= \psi/\lambda_D^2
</span></p>
<p>where <span class="math inline">\lambda_D</span> is the <strong>Debye length</strong></p>
<p><span class="math display">
\lambda_D=\sqrt{\frac{1}{8 \pi \lambda_B n_s}}
</span> itself dependent on the Bjerrum length <span class="math inline">\lambda_B</span>: the scale at which two elementary charges have energy <span class="math inline">k_B T</span>.</p>
<p>The final form of the potential is an <strong>exponential repulsion</strong> with scale <span class="math inline">\lambda_D</span></p>
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p><span class="math display">
\Large
W_{D R}(h)=B \frac{R}{\lambda_B} \exp \left(-h / \lambda_D\right)
</span></p>
</div>
</div>
</div>
</section>
<section id="vdw-double-layer-dlvo-interaction" class="slide level2">
<h2>vdW + double layer = DLVO interaction</h2>
<p>To sum up, identical colloids in solution have two interactions of opposite sign</p>
<ul>
<li><p>a van der Waals component, typically <strong>attractive</strong></p></li>
<li><p>a double layer component <strong>repulsive in nature</strong></p></li>
</ul>
<p>The sum of the two gives rise to the DLVO (Derjaguin‚ÄìLandau‚ÄìVerwey‚ÄìOverbeek) interaction which is an elementary model for colloid stability and aggregation.</p>
<div id="8931a314" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="soft-matter_colloids1_files/figure-revealjs/cell-2-output-1.png" width="1474" height="473"></p>
</figure>
</div>
</div>
</div>
<p><a href="https://fturci.github.io/course-disordered-matter/soft-matter/soft-matter_colloids.html#double-layer-interaction" target="_blank">ü™Å Play with the potential</a></p>
</section>
<section id="excluded-volume-and-generic-atomistic-interactions" class="slide level2">
<h2>Excluded volume and generic atomistic interactions</h2>
<ul>
<li>At very short distances the electronic clouds overlap.</li>
<li>Electrons cannot share the same quantum state and must occupy different, higher energy states</li>
</ul>
<p><mark><strong>‚Üí Large energy costs</strong> in approaching atoms: <strong>steric repulsive interactions</strong> below a <em>van der Waals radius.</em></mark></p>
<p>A phenomenological model for a generic atomistic interaction potential is then</p>
<p><span class="math display">
V_{\mathrm{LJ}}(r)=\dfrac{A_n}{r^n} - \dfrac{B_m}{r^m}
</span></p>
<p>where the first term is the short-range repulsion and the second a generalised attraction.</p>
<p>A convenient choice is the <strong>Lennard-Jones</strong> potential of scale <span class="math inline">\sigma</span> (twice the van der Waals radius)</p>
<p><span class="math display">
V_{\mathrm{LJ}}(r)=4 \varepsilon\left[\left(\dfrac{\sigma}{r}\right)^{12}-\left(\dfrac{\sigma}{r}\right)^6\right],
</span></p>
<p>where <span class="math inline">m=6</span> is chosen to match London‚Äôs forces and <span class="math inline">n=12</span> is chosen to match experiments and computational convenience.</p>
<p>Atomistic, but at the heart of numerous <strong>coarse-grained models</strong>.</p>
</section>
<section id="exclusion-and-entropic-forces" class="slide level2">
<h2>Exclusion and entropic forces</h2>
<p>Steric repulsion (<em>hindrance</em>) means <strong>excluded volume</strong>: at thermal energy scales, an atom cannot be placed at the position of another atom.</p>
<p>Geometrical point of view:</p>
<ul>
<li><p>Excluded volume means that, neglecting attractions, atoms/molecules/macromolecules/colloids are <em>spheres that cannot overlap</em>.</p></li>
<li><p>Distribute spheres in space:</p>
<ul>
<li>volume exclusion means that some configurations are <strong>forbidden</strong></li>
</ul></li>
</ul>
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./figs/overlap.png" height="300"></p>
<figcaption>Overlapping particles are forbidden by volume exclusion</figcaption>
</figure>
</div>
</div>
</section>
<section id="exclusion-in-one-dimension" class="slide level2">
<h2>Exclusion in one dimension</h2>
<p>Exclusion means forbidden configurations.</p>
<p>Statistical mechanics approach: simplest system with the required ingredients, studied in detail.</p>
<ul>
<li><strong>Hard</strong> identical particles on a line between two <strong>repulsive, impenetrable walls</strong>.</li>
</ul>
<p>Macroscopic analogue:</p>

<img data-src="./figs/clothpins.png" class="r-stretch quarto-figure-center"><p class="caption">Clothpins on a line</p></section>
<section id="exclusion-in-one-dimension-1" class="slide level2">
<h2>Exclusion in one dimension</h2>
<p>Investigate the probability distribution <span class="math inline">\rho(x)</span> of finding the centre of a particle at position <span class="math inline">x</span>. Parameters:</p>
<ul>
<li>clothpin horizontal size <span class="math inline">d</span> (only size that matters)</li>
<li>length of the line <span class="math inline">L</span></li>
<li>number of clothpins <span class="math inline">N</span></li>
</ul>
<p>We can treat the problem <strong>algorithmically</strong></p>
<div class="callout callout-note callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Algorithm</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>position the particles in a valid configuration (no overlaps with other particles or the walls)</li>
<li>pick a particle at random</li>
<li>move it slightly along the line</li>
<li>test if the new position is valid (no overlaps)</li>
<li>if valid, accept the move; otherwise, reject</li>
<li>go back to (2)</li>
</ol>
</div>
</div>
</div>
</section>
<section id="simulation-of-hard-clothpins-on-a-line" class="slide level2">
<h2>Simulation of hard clothpins on a line</h2>
<p><a href="https://fturci.github.io/course-disordered-matter/soft-matter/soft-matter_colloids.html#a-simple-example-particles-in-a-one-dimensional-line-hard-rods" target="_blank">ü™Å Play with the simulation</a></p>
<div>
<div id="pyodide-3" class="exercise-cell">

</div>
<script type="pyodide-3-contents">
eyJhdHRyIjp7ImF1dG9ydW4iOnRydWUsImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiJpbXBvcnQgbnVtcHkgYXMgbnBcbmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHRcbmRlZiBjbG90aHBpbnMoTj0xOCxMPTI0LjAsZD0xLjAsIHN0ZXBzID0gMTAwMDAwLCBkZWx0YT0wLjUpOlxuICAgICMgaW5pdGlhbCBjb25maWd1cmF0aW9uIFxuICAgIHBvcyA9IG5wLmxpbnNwYWNlKGQsIEwgLSBkLCBOKVxuXG4gICAgZGVmIHZhbGlkKHApOlxuICAgICAgICBcIkNoZWNrIHRoYXQgY29uc2VjdXRpdmUgKHNvcnRlZCkgcGFydGljbGVzIGFyZSBub24tb3ZlcmxhcHBpbmdcIlxuICAgICAgICByZXR1cm4gbnAuYWxsKHAgPj0gZC8yKSBhbmQgbnAuYWxsKHAgPD0gTC1kLzIpIGFuZCBucC5hbGwobnAuZGlmZihwKSA+PSBkKVxuXG4gICAgcG9zaXRpb25zX3NhbXBsZXMgPSBbXVxuXG4gICAgZm9yIHN0ZXAgaW4gcmFuZ2Uoc3RlcHMpOlxuICAgICAgICBpID0gbnAucmFuZG9tLnJhbmRpbnQoTilcbiAgICAgICAgbW92ZSA9IG5wLnJhbmRvbS51bmlmb3JtKC1kZWx0YSwgZGVsdGEpXG4gICAgICAgIG5ld19wb3MgPSBwb3MuY29weSgpXG4gICAgICAgIG5ld19wb3NbaV0gKz0gbW92ZVxuICAgICAgICAjIHNvcnRpbmcgYWxsb3dzIHVzIHRvIG9ubHkgY2hlY2sgY29uc2VjdXRpdmUgcGFydGljbGVzXG4gICAgICAgIG5ld19wb3Muc29ydCgpXG4gICAgICAgIGlmIHZhbGlkKG5ld19wb3MpOlxuICAgICAgICAgICAgcG9zID0gbmV3X3Bvc1xuICAgICAgICBpZiBzdGVwICUgMTAwID09IDA6XG4gICAgICAgICAgICBwb3NpdGlvbnNfc2FtcGxlcy5leHRlbmQocG9zKVxuICAgIHJldHVybiBwb3NpdGlvbnNfc2FtcGxlcyJ9
</script>
</div>
<div>
<div id="pyodide-4" class="exercise-cell">

</div>
<script type="pyodide-4-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiTiwgTCA9IDMsIDI0LjBcbnBvc2l0aW9uc19zYW1wbGVzID0gY2xvdGhwaW5zKE4sTCxkPTEuMCxzdGVwcyA9IDEwMF8wMDApXG5wbHQuZmlndXJlKGZpZ3NpemU9KDgsMi41KSlcbnBsdC5oaXN0KHBvc2l0aW9uc19zYW1wbGVzLCBiaW5zPTEyOCwgcmFuZ2U9KDAsIEwpLCBkZW5zaXR5PVRydWUpXG5wbHQuZ2NhKCkuc2V0KHhsYWJlbD1cIlBvc2l0aW9uIFtkXVwiLCB5bGFiZWw9XCJQcm9iYWJpbGl0eSBkZW5zaXR5XCIpOyBwbHQudGlnaHRfbGF5b3V0KCk7IHBsdC5zaG93KCkifQ==
</script>
</div>
</section>
<section id="simulation-of-hard-clothpins-on-a-line-1" class="slide level2">
<h2>Simulation of hard clothpins on a line</h2>
<ul>
<li><p>The key parameter is the <strong>packing fraction</strong> <span class="math inline">\phi = \dfrac{dN}{L}</span> (non-dimensional)<sup>1</sup>.</p>
<ul>
<li><strong>low <span class="math inline">\phi</span></strong>: almost uniform profile</li>
<li><strong>intermediate <span class="math inline">\phi</span></strong>: small peaks start to show close to the walls</li>
<li><strong>high <span class="math inline">\phi</span></strong>: strong peaks and modulation of the density along the line</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./figs/highphiclothpins.png" height="250"></p>
<figcaption>Density profile at N=18, L=24, <span class="math inline">\phi=0.75</span>.</figcaption>
</figure>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Our algorithm is direct and inefficient; see Krauth‚Äôs, <em>Statistical Mechanics: Algorithms and Computations</em> for better approaches.</p></li></ol></aside></section>
<section id="attraction-via-repulsion" class="slide level2">
<h2>Attraction via repulsion</h2>
<p>What do the peaks mean? It means that it is <strong>more likely</strong> to find the particles close to the walls:</p>
<ul>
<li>the walls seem to <strong>attract</strong> the particles</li>
<li>peaks and valleys indicating layering</li>
<li>the interaction with the wall vanishes as we get away from it</li>
</ul>
<p>The source of this effect is <strong>entropy</strong>:</p>
<ul>
<li>if the first and last particles stay close to the walls, the other particles have <strong>more available space</strong> in the middle</li>
<li>this means that there are more <strong>configurations available</strong> for the rest of the particles if the extreme particles are getting more localised</li>
<li>more configurations ‚Üí larger entropy ‚Üí lower free energy = <strong>depletion</strong></li>
</ul>
<p><span class="math display"> F=U - TS=\cancel{U} - TS </span></p>
<p>No internal energy, only entropy, so temperature is only a <strong>scale parameter</strong>.</p>
</section>
<section id="asakura-oosawa-depletion-potential" class="slide level2">
<h2>Asakura-Oosawa depletion potential</h2>

<img data-src="./figs/depletion.svg" class="r-stretch quarto-figure-center"><p class="caption">More realism: Mixture of colloids (yellow) and polymers (squiggly lines inside red circles). The depletion layers are as thick as the polymer radius (red circles) and are indicated with the dashes around the colloids. When the two layers do not overlap, the osmotic pressure due to the polymers on the colloids is balanced. When there is overlap, there is a region inaccessible to the polymers (purple) and the pressure is unbalanced, leading to aggregation.</p></section>
<section id="asakura-oosawa-depletion-potential-1" class="slide level2">
<h2>Asakura-Oosawa depletion potential</h2>
<ul>
<li><p>Depletion forces play a pivotal role in colloidal <strong>aggregation</strong>.</p></li>
<li><p>The basic mechanisms are the same as in our 1D example.</p></li>
<li><p>We are going to work through the details of a particular model</p>
<ul>
<li><strong>Asakura-Oosawa</strong> depletion interaction</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="./figs/depletion.svg" height="350"></p>
<figcaption>Asakura-Oosawa setting</figcaption>
</figure>
</div>
</section>
<section id="asakura-oosawa-model" class="slide level2">
<h2>Asakura-Oosawa model</h2>
<div class="columns">
<div class="column" style="background-color: #e0f7fa; border-radius: 5px;">
<ul>
<li><strong>Colloids</strong>: Large spheres, diameter <span class="math inline">2R</span>, impenetrable (<strong>hard spheres</strong>)</li>
<li><strong>Polymeric bundles</strong>: Smaller spheres, diameter <span class="math inline">\sigma_p = 2\delta</span>.
<ul>
<li>cannot overlap with colloids</li>
<li>can overlap with other (<strong>penetrable hard spheres</strong>)</li>
</ul></li>
<li>System is at thermodynamic equilibrium:
<ul>
<li>same pressure, temperature and chemical potential throughout</li>
<li>can think of the system as chemostatted by a <strong>polymer reservoir</strong> at the same <span class="math inline">\mu_{polymer}</span></li>
</ul></li>
</ul>
</div><div class="column" style="background-color: #ffe0b2; border-radius: 5px;">
<ul>
<li>The polymers (by themselves) are <strong>ideal</strong> so their chemical potential is <span class="math display">\mu_p = k_BT \ln \rho_p^r</span></li>
<li>The number density is linked to the packing fraction <span class="math inline">\phi_p^r=\rho_p v_p = \frac{\pi}{6} \rho_p^r \sigma_p^3</span></li>
<li>we work at constant <span class="math inline">V,T,\mu</span>: <strong>grand canonical ensemble</strong></li>
<li>We ignore <strong>all internal structure</strong> of the polymers.</li>
</ul>
</div></div>
</section>
<section id="sketch-of-derivation-of-ao-potential" class="slide level2">
<h2>Sketch of derivation of AO potential</h2>
<ul>
<li><p>In the absence of colloids, the entire volume <span class="math inline">V</span> is accessible to the polymer <span class="math inline">V_{\rm accessible} = V</span></p></li>
<li><p>Grand potential of the polymers <span class="math inline">\Omega = -k_BT e^{\mu_p/k_B T}V_{\rm accessible}</span></p></li>
<li><p>Introduce one colloid: the polymers cannot get closer than the distance <span class="math inline">R+\delta</span></p></li>
</ul>

<img data-src="./figs/ao1.png" class="r-stretch quarto-figure-center"><p class="caption">Excluded volume around one polymer</p><ul>
<li><strong>Excluded volume</strong> <span class="math inline">V_{\rm exclusion} = V_{\rm outer}-V_{\rm inner}= \dfrac{4\pi}{3}\left((R+\delta)^3-R^3\right)</span></li>
<li>The accessible volume is now <span class="math inline">V_{\rm accessible} = V-V_{\rm exclusion}</span></li>
</ul>
</section>
<section id="sketch-of-derivation-of-ao-potential-1" class="slide level2">
<h2>Sketch of derivation of AO potential</h2>
<ul>
<li><p>Introduce a second colloid at distance <span class="math inline">r</span> from the first colloid.</p></li>
<li><p>The accessible volume is <span class="math inline">V_{\rm accessible}^{\infty}=V-2V_{\rm exclusion}</span></p></li>
<li><p>Two situations:</p>
<ol type="1">
<li><span class="math inline">\forall r &gt;R_d = 2R+2\delta</span> the accessible volume remains the same, constant <span class="math inline">\Omega(r)=\Omega_{\infty}</span></li>
<li>For <span class="math inline">2R&lt;r&lt;R_d</span> the accessible volume changes: <strong>overlap</strong> between exclusion volumes.</li>
</ol></li>
</ul>

<img data-src="./figs/ao2.png" class="r-stretch quarto-figure-center"><p class="caption">A second colloid is introduced at a short distance <span class="math inline">r</span>. The exclusion regions overlap (light blue), increasing the accessible volume.</p></section>
<section id="sketch-of-derivation-of-ao-potential-2" class="slide level2">
<h2>Sketch of derivation of AO potential</h2>
<ul>
<li>The overlap region can be calculated from <a href="https://mathworld.wolfram.com/Sphere-SphereIntersection.html">standard geometrical properties of spherical caps</a></li>
</ul>
<p><span class="math display">
V_{\mathrm{overlap}}(r)=\dfrac{4 \pi}{3} R_d^3\left[1-\frac{3}{4} \frac{r}{R_d}+\frac{1}{16}\left(\frac{r}{R_d}\right)^3\right]</span></p>
<ul>
<li>The new accessible volume is</li>
</ul>
<p><span class="math display">V_{\rm accessible}^\prime=V-(2V_{\rm exclusion}-V_{\mathrm{overlap}})</span></p>
<ul>
<li>Since <span class="math inline">\Omega = -k_BT e^{\mu_p/k_B T}V_{\rm accessible}</span> the grand potential becomes <strong>more negative</strong> when the colloids are close.</li>
</ul>
</section>
<section id="sketch-of-derivation-of-ao-potential-3" class="slide level2">
<h2>Sketch of derivation of AO potential</h2>
<ul>
<li>Free energy advantage from the overlapping excluded volumes</li>
</ul>
<p><span class="math display">
\begin{aligned}
W_{\rm AO}(r) = \Omega(r)-\Omega^{\infty} &amp; =-k_BT e^{\mu/k_B T}\left(V_{\rm accessible}(r)-V_{\rm accessible}(\infty)\right)\\
&amp; = -k_BT e^{\mu/k_B T}\left[V-2V_{\rm exclusion}+V_{\mathrm{overlap}}(r)-(V-2V_{\rm exclusion})\right]\\
&amp; = -k_BT e^{\mu/k_B T} V_{\mathrm{overlap}(r)}\\
&amp; = -k_B T \rho_p V_{\mathrm{overlap}(r)}
\end{aligned}
</span></p>
<p>The result is an attractive depletion potential controlled by the geometry of the overlap</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Asakura-Oosawa potential (1954)</strong></p>
</div>
<div class="callout-content">
<p><span class="math display">
\Large
W_{\rm AO} (r) = - \dfrac{4 \pi \rho_p^r k_B T}{3} (R+\delta)^3\left[1-\dfrac{3}{4} \dfrac{r}{R+\delta}+\frac{1}{16}\left(\dfrac{r}{R+\delta}\right)^3\right] \quad 2R\leq r&lt; 2R+\delta
</span></p>
</div>
</div>
</div>
</section>
<section id="ao-potential" class="slide level2">
<h2>AO potential</h2>
<div>
<div id="pyodide-5" class="exercise-cell">

</div>
<script type="pyodide-5-contents">
eyJhdHRyIjp7ImVjaG8iOmZhbHNlLCJlZGl0IjpmYWxzZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiJpbXBvcnQgbnVtcHkgYXMgbnBcbmltcG9ydCBtYXRwbG90bGliLnB5cGxvdCBhcyBwbHRcbmRlZiBBT19wb3RlbnRpYWwociwgUiwgZGVsdGEsIGV0YV9wLCBrQlQ9MSk6XG4gICAgUmQgPSBSICsgZGVsdGFcbiAgICAjIE9ubHkgZGVmaW5lZCBmb3IgMlIgPD0gciA8IDJSZFxuICAgIFcgPSBucC56ZXJvc19saWtlKHIpXG4gICAgbWFzayA9IChyID49IDIqUikgJiAociA8IDIqUmQpXG4gICAgeCA9IHJbbWFza10gLyBSZFxuICAgIFdbbWFza10gPSAtICg0ICogbnAucGkgKiBldGFfcCAqIGtCVCAvIDMpICogUmQqKjMgKiAoMSAtIDAuNzUgKiB4ICsgMC4wNjI1ICogeCoqMylcbiAgICByZXR1cm4gVyJ9
</script>
</div>
<div>
<div id="pyodide-6" class="exercise-cell">

</div>
<script type="pyodide-6-contents">
eyJhdHRyIjp7ImVkaXQiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiUiA9IDEuMCAgICAgICAgICAgIyBDb2xsb2lkIHJhZGl1c1xuciA9IG5wLmxpbnNwYWNlKDIqUiwgMypSLCA1MDApXG5XX0FPID0gQU9fcG90ZW50aWFsKHIsIFI9UiwgZGVsdGE9MC4yKlIsIGV0YV9wPTAuMSwga0JUPTEpXG5wbHQuZmlndXJlKGZpZ3NpemU9KDgsMykpOyBwbHQucGxvdChyLCBXX0FPKVxucGx0LmdjYSgpLnNldCh4bGFiZWw9XCJTZXBhcmF0aW9uICRyL1IkXCIsIHlsYWJlbD1cIiRXX3tBT30ocikkXCIpOyBwbHQudGlnaHRfbGF5b3V0KCk7IHBsdC5zaG93KCkifQ==
</script>
</div>
</section>
<section id="summary-of-main-colloid-colloid-interactions" class="slide level2">
<h2>Summary of main colloid-colloid interactions</h2>
<table class="caption-top" style="width:99%;">
<colgroup>
<col style="width: 13%">
<col style="width: 69%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th>Interaction Type</th>
<th>Description</th>
<th>Range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Van der Waals</td>
<td>Attractive forces arising from induced dipoles between particles.</td>
<td>Short-range</td>
</tr>
<tr class="even">
<td>Double Layer</td>
<td>Electrostatic repulsion due to overlapping electrical double layers around charged particles.</td>
<td>Long-range</td>
</tr>
<tr class="odd">
<td>DLVO</td>
<td>Combination of van der Waals attraction and double layer repulsion.</td>
<td>Short and long range</td>
</tr>
<tr class="even">
<td>Depletion</td>
<td>Typically attractive interactions emerging from purely entropic interactions</td>
<td>Short range</td>
</tr>
</tbody>
</table>


<script type="pyodide-data">
eyJvcHRpb25zIjp7ImVudiI6eyJQTE9UTFlfUkVOREVSRVIiOiJwbG90bHlfbWltZXR5cGUifSwiaW5kZXhVUkwiOiJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvcHlvZGlkZS92MC4yOC4xL2Z1bGwvIn0sInBhY2thZ2VzIjp7InBrZ3MiOlsicHlvZGlkZV9odHRwIiwibWljcm9waXAiLCJpcHl0aG9uIl19fQ==
</script>
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3siY2VsbE5hbWUiOiJweW9kaWRlLTYiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoidmlld29mIF9weW9kaWRlX2VkaXRvcl82ID0ge1xuICBjb25zdCB7IFB5b2RpZGVFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwicHlvZGlkZS02LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBpZDogYHB5b2RpZGUtNi1jb250ZW50c2AgfSwgYmxvY2suYXR0cik7XG4gIGNvbnN0IGVkaXRvciA9IG5ldyBQeW9kaWRlRXhlcmNpc2VFZGl0b3IoXG4gICAgcHlvZGlkZU9qcy5weW9kaWRlUHJvbWlzZSxcbiAgICBibG9jay5jb2RlLFxuICAgIG9wdGlvbnNcbiAgKTtcblxuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbl9weW9kaWRlX3ZhbHVlXzYgPSBweW9kaWRlT2pzLnByb2Nlc3MoX3B5b2RpZGVfZWRpdG9yXzYsIHt9KTtcbiJ9LHsiY2VsbE5hbWUiOiJweW9kaWRlLTUiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0Iiwic291cmNlIjoiX3B5b2RpZGVfdmFsdWVfNSA9IHtcbiAgY29uc3QgeyBoaWdobGlnaHRQeXRob24sIGI2NERlY29kZX0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuXG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwicHlvZGlkZS01LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBldmFsdWF0aW9uIGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGlkOiBcInB5b2RpZGUtNS1jb250ZW50c1wiLFxuICAgIGVjaG86IHRydWUsXG4gICAgb3V0cHV0OiB0cnVlXG4gIH0sIGJsb2NrLmF0dHIpO1xuXG4gIC8vIEV2YWx1YXRlIHRoZSBwcm92aWRlZCBQeXRob24gY29kZVxuICBjb25zdCByZXN1bHQgPSBweW9kaWRlT2pzLnByb2Nlc3Moe2NvZGU6IGJsb2NrLmNvZGUsIG9wdGlvbnN9LCB7fSk7XG5cbiAgLy8gRWFybHkgeWllbGQgd2hpbGUgd2Ugd2FpdCBmb3IgdGhlIGZpcnN0IGV2YWx1YXRpb24gYW5kIHJlbmRlclxuICBpZiAob3B0aW9ucy5vdXRwdXQgJiYgIShcIjVcIiBpbiBweW9kaWRlT2pzLnJlbmRlcmVkT2pzKSkge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBpZiAob3B0aW9ucy5lY2hvKSB7XG4gICAgICAvLyBTaG93IG91dHB1dCBhcyBoaWdobGlnaHRlZCBzb3VyY2VcbiAgICAgIGNvbnN0IHByZUVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicHJlXCIpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IFwic291cmNlQ29kZVwiO1xuICAgICAgcHJlRWxlbS5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGUgcHl0aG9uXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKGhpZ2hsaWdodFB5dGhvbihibG9jay5jb2RlKSk7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ncm93IHNwaW5uZXItZ3Jvdy1zbSBtLTIgcG9zaXRpb24tYWJzb2x1dGUgdG9wLTAgZW5kLTBcIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocHJlRWxlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbVwiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgIH1cblxuICAgIHlpZWxkIGNvbnRhaW5lcjtcbiAgfVxuXG4gIHB5b2RpZGVPanMucmVuZGVyZWRPanNbXCI1XCJdID0gdHJ1ZTtcbiAgeWllbGQgYXdhaXQgcmVzdWx0O1xufVxuIn0seyJjZWxsTmFtZSI6InB5b2RpZGUtNCIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJ2aWV3b2YgX3B5b2RpZGVfZWRpdG9yXzQgPSB7XG4gIGNvbnN0IHsgUHlvZGlkZUV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG5cbiAgY29uc3Qgc2NyaXB0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJweW9kaWRlLTQtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkOiBgcHlvZGlkZS00LWNvbnRlbnRzYCB9LCBibG9jay5hdHRyKTtcbiAgY29uc3QgZWRpdG9yID0gbmV3IFB5b2RpZGVFeGVyY2lzZUVkaXRvcihcbiAgICBweW9kaWRlT2pzLnB5b2RpZGVQcm9taXNlLFxuICAgIGJsb2NrLmNvZGUsXG4gICAgb3B0aW9uc1xuICApO1xuXG4gIHJldHVybiBlZGl0b3IuY29udGFpbmVyO1xufVxuX3B5b2RpZGVfdmFsdWVfNCA9IHB5b2RpZGVPanMucHJvY2VzcyhfcHlvZGlkZV9lZGl0b3JfNCwge30pO1xuIn0seyJjZWxsTmFtZSI6InB5b2RpZGUtMyIsImlubGluZSI6ZmFsc2UsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJzb3VyY2UiOiJfcHlvZGlkZV92YWx1ZV8zID0ge1xuICBjb25zdCB7IGhpZ2hsaWdodFB5dGhvbiwgYjY0RGVjb2RlfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG5cbiAgY29uc3Qgc2NyaXB0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJweW9kaWRlLTMtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICAvLyBEZWZhdWx0IGV2YWx1YXRpb24gY29uZmlndXJhdGlvblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgaWQ6IFwicHlvZGlkZS0zLWNvbnRlbnRzXCIsXG4gICAgZWNobzogdHJ1ZSxcbiAgICBvdXRwdXQ6IHRydWVcbiAgfSwgYmxvY2suYXR0cik7XG5cbiAgLy8gRXZhbHVhdGUgdGhlIHByb3ZpZGVkIFB5dGhvbiBjb2RlXG4gIGNvbnN0IHJlc3VsdCA9IHB5b2RpZGVPanMucHJvY2Vzcyh7Y29kZTogYmxvY2suY29kZSwgb3B0aW9uc30sIHt9KTtcblxuICAvLyBFYXJseSB5aWVsZCB3aGlsZSB3ZSB3YWl0IGZvciB0aGUgZmlyc3QgZXZhbHVhdGlvbiBhbmQgcmVuZGVyXG4gIGlmIChvcHRpb25zLm91dHB1dCAmJiAhKFwiM1wiIGluIHB5b2RpZGVPanMucmVuZGVyZWRPanMpKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGlmIChvcHRpb25zLmVjaG8pIHtcbiAgICAgIC8vIFNob3cgb3V0cHV0IGFzIGhpZ2hsaWdodGVkIHNvdXJjZVxuICAgICAgY29uc3QgcHJlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XG4gICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlXCI7XG4gICAgICBwcmVFbGVtLmNsYXNzTmFtZSA9IFwic291cmNlQ29kZSBweXRob25cIjtcbiAgICAgIHByZUVsZW0uYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0UHl0aG9uKGJsb2NrLmNvZGUpKTtcbiAgICAgIHNwaW5uZXIuY2xhc3NOYW1lID0gXCJzcGlubmVyLWdyb3cgc3Bpbm5lci1ncm93LXNtIG0tMiBwb3NpdGlvbi1hYnNvbHV0ZSB0b3AtMCBlbmQtMFwiO1xuICAgICAgcHJlRWxlbS5hcHBlbmRDaGlsZChzcGlubmVyKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcmVFbGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3Bpbm5lci5jbGFzc05hbWUgPSBcInNwaW5uZXItYm9yZGVyIHNwaW5uZXItYm9yZGVyLXNtXCI7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3Bpbm5lcik7XG4gICAgfVxuXG4gICAgeWllbGQgY29udGFpbmVyO1xuICB9XG5cbiAgcHlvZGlkZU9qcy5yZW5kZXJlZE9qc1tcIjNcIl0gPSB0cnVlO1xuICB5aWVsZCBhd2FpdCByZXN1bHQ7XG59XG4ifSx7ImNlbGxOYW1lIjoicHlvZGlkZS0yIiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldCIsInNvdXJjZSI6InZpZXdvZiBfcHlvZGlkZV9lZGl0b3JfMiA9IHtcbiAgY29uc3QgeyBQeW9kaWRlRXhlcmNpc2VFZGl0b3IsIGI2NERlY29kZSB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcblxuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcInB5b2RpZGUtMi1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgaWQ6IGBweW9kaWRlLTItY29udGVudHNgIH0sIGJsb2NrLmF0dHIpO1xuICBjb25zdCBlZGl0b3IgPSBuZXcgUHlvZGlkZUV4ZXJjaXNlRWRpdG9yKFxuICAgIHB5b2RpZGVPanMucHlvZGlkZVByb21pc2UsXG4gICAgYmxvY2suY29kZSxcbiAgICBvcHRpb25zXG4gICk7XG5cbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG5fcHlvZGlkZV92YWx1ZV8yID0gcHlvZGlkZU9qcy5wcm9jZXNzKF9weW9kaWRlX2VkaXRvcl8yLCB7fSk7XG4ifSx7ImNlbGxOYW1lIjoicHlvZGlkZS0xIiwiaW5saW5lIjpmYWxzZSwibWV0aG9kTmFtZSI6ImludGVycHJldCIsInNvdXJjZSI6Il9weW9kaWRlX3ZhbHVlXzEgPSB7XG4gIGNvbnN0IHsgaGlnaGxpZ2h0UHl0aG9uLCBiNjREZWNvZGV9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcblxuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcInB5b2RpZGUtMS1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXZhbHVhdGlvbiBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBpZDogXCJweW9kaWRlLTEtY29udGVudHNcIixcbiAgICBlY2hvOiB0cnVlLFxuICAgIG91dHB1dDogdHJ1ZVxuICB9LCBibG9jay5hdHRyKTtcblxuICAvLyBFdmFsdWF0ZSB0aGUgcHJvdmlkZWQgUHl0aG9uIGNvZGVcbiAgY29uc3QgcmVzdWx0ID0gcHlvZGlkZU9qcy5wcm9jZXNzKHtjb2RlOiBibG9jay5jb2RlLCBvcHRpb25zfSwge30pO1xuXG4gIC8vIEVhcmx5IHlpZWxkIHdoaWxlIHdlIHdhaXQgZm9yIHRoZSBmaXJzdCBldmFsdWF0aW9uIGFuZCByZW5kZXJcbiAgaWYgKG9wdGlvbnMub3V0cHV0ICYmICEoXCIxXCIgaW4gcHlvZGlkZU9qcy5yZW5kZXJlZE9qcykpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgaWYgKG9wdGlvbnMuZWNobykge1xuICAgICAgLy8gU2hvdyBvdXRwdXQgYXMgaGlnaGxpZ2h0ZWQgc291cmNlXG4gICAgICBjb25zdCBwcmVFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcInNvdXJjZUNvZGVcIjtcbiAgICAgIHByZUVsZW0uY2xhc3NOYW1lID0gXCJzb3VyY2VDb2RlIHB5dGhvblwiO1xuICAgICAgcHJlRWxlbS5hcHBlbmRDaGlsZChoaWdobGlnaHRQeXRob24oYmxvY2suY29kZSkpO1xuICAgICAgc3Bpbm5lci5jbGFzc05hbWUgPSBcInNwaW5uZXItZ3JvdyBzcGlubmVyLWdyb3ctc20gbS0yIHBvc2l0aW9uLWFic29sdXRlIHRvcC0wIGVuZC0wXCI7XG4gICAgICBwcmVFbGVtLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHByZUVsZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGlubmVyLmNsYXNzTmFtZSA9IFwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIjtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGlubmVyKTtcbiAgICB9XG5cbiAgICB5aWVsZCBjb250YWluZXI7XG4gIH1cblxuICBweW9kaWRlT2pzLnJlbmRlcmVkT2pzW1wiMVwiXSA9IHRydWU7XG4gIHlpZWxkIGF3YWl0IHJlc3VsdDtcbn1cbiJ9LHsiY2VsbE5hbWUiOiJweW9kaWRlLXByZWx1ZGUiLCJpbmxpbmUiOmZhbHNlLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJweW9kaWRlT2pzID0ge1xuICBjb25zdCB7XG4gICAgUHlvZGlkZUV2YWx1YXRvcixcbiAgICBQeW9kaWRlRW52aXJvbm1lbnRNYW5hZ2VyLFxuICAgIHNldHVwUHl0aG9uLFxuICAgIHN0YXJ0UHlvZGlkZVdvcmtlcixcbiAgICBiNjREZWNvZGUsXG4gICAgY29sbGFwc2VQYXRoLFxuICB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcblxuICBjb25zdCBzdGF0dXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4ZXJjaXNlLWxvYWRpbmctc3RhdHVzXCIpO1xuICBjb25zdCBpbmRpY2F0b3JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4ZXJjaXNlLWxvYWRpbmctaW5kaWNhdG9yXCIpO1xuICBpbmRpY2F0b3JDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImQtbm9uZVwiKTtcblxuICBsZXQgc3RhdHVzVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgc3RhdHVzVGV4dC5jbGFzc0xpc3QgPSBcImV4ZXJjaXNlLWxvYWRpbmctZGV0YWlsc1wiO1xuICBzdGF0dXNUZXh0ID0gc3RhdHVzQ29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c1RleHQpO1xuICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYEluaXRpYWxpc2VgO1xuXG4gIC8vIEhvaXN0IGluZGljYXRvciBvdXQgZnJvbSBmaW5hbCBzbGlkZSB3aGVuIHJ1bm5pbmcgdW5kZXIgcmV2ZWFsXG4gIGNvbnN0IHJldmVhbFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2ZWFsIC5leGVyY2lzZS1sb2FkaW5nLWluZGljYXRvclwiKTtcbiAgaWYgKHJldmVhbFN0YXR1cykge1xuICAgIHJldmVhbFN0YXR1cy5yZW1vdmUoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJldmVhbCA+IC5zbGlkZXNcIikuYXBwZW5kQ2hpbGQocmV2ZWFsU3RhdHVzKTtcbiAgfVxuXG4gIC8vIE1ha2UgYW55IHJldmVhbCBzbGlkZXMgd2l0aCBsaXZlIGNlbGxzIHNjcm9sbGFibGVcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZlYWwgLmV4ZXJjaXNlLWNlbGxcIikuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBlbC5jbG9zZXN0KCdzZWN0aW9uLnNsaWRlJykuY2xhc3NMaXN0LmFkZChcInNjcm9sbGFibGVcIik7XG4gIH0pXG5cbiAgLy8gUHlvZGlkZSBzdXBwbGVtZW50YWwgZGF0YSBhbmQgb3B0aW9uc1xuICBjb25zdCBkYXRhQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJweW9kaWRlLWRhdGFcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShiNjREZWNvZGUoZGF0YUNvbnRlbnQpKTtcblxuICAvLyBHcmFiIGxpc3Qgb2YgcmVzb3VyY2VzIHRvIGJlIGRvd25sb2FkZWRcbiAgY29uc3QgZmlsZXNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcInZmcy1maWxlXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgZmlsZXMgPSBKU09OLnBhcnNlKGI2NERlY29kZShmaWxlc0NvbnRlbnQpKTtcblxuICBsZXQgcHlvZGlkZVByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgRG93bmxvYWRpbmcgUHlvZGlkZWA7XG4gICAgY29uc3QgcHlvZGlkZSA9IGF3YWl0IHN0YXJ0UHlvZGlkZVdvcmtlcihkYXRhLm9wdGlvbnMpO1xuXG4gICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBEb3dubG9hZGluZyBwYWNrYWdlOiBtaWNyb3BpcGA7XG4gICAgYXdhaXQgcHlvZGlkZS5sb2FkUGFja2FnZShcIm1pY3JvcGlwXCIpO1xuICAgIGNvbnN0IG1pY3JvcGlwID0gYXdhaXQgcHlvZGlkZS5weWltcG9ydChcIm1pY3JvcGlwXCIpO1xuICAgIGF3YWl0IGRhdGEucGFja2FnZXMucGtncy5tYXAoKHBrZykgPT4gKCkgPT4ge1xuICAgICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBEb3dubG9hZGluZyBwYWNrYWdlOiAke3BrZ31gO1xuICAgICAgcmV0dXJuIG1pY3JvcGlwLmluc3RhbGwocGtnKTtcbiAgICB9KS5yZWR1Y2UoKGN1ciwgbmV4dCkgPT4gY3VyLnRoZW4obmV4dCksIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICBhd2FpdCBtaWNyb3BpcC5kZXN0cm95KCk7XG5cbiAgICAvLyBEb3dubG9hZCBhbmQgaW5zdGFsbCByZXNvdXJjZXNcbiAgICBhd2FpdCBmaWxlcy5tYXAoKGZpbGUpID0+IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBmaWxlLnN1YnN0cmluZyhmaWxlLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgRG93bmxvYWRpbmcgcmVzb3VyY2U6ICR7bmFtZX1gO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChmaWxlKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBkb3dubG9hZCBcXGAke2ZpbGV9XFxgLiBFcnJvciAke3Jlc3BvbnNlLnN0YXR1c306IFwiJHtyZXNwb25zZS5zdGF0dXNUZXh0fVwiLmApO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG5cbiAgICAgIC8vIFN0b3JlIFVSTHMgaW4gdGhlIGN3ZCB3aXRob3V0IGFueSBzdWJkaXJlY3Rvcnkgc3RydWN0dXJlXG4gICAgICBpZiAoZmlsZS5pbmNsdWRlcyhcIjovL1wiKSkge1xuICAgICAgICBmaWxlID0gbmFtZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ29sbGFwc2UgaGlnaGVyIGRpcmVjdG9yeSBzdHJ1Y3R1cmVcbiAgICAgIGZpbGUgPSBjb2xsYXBzZVBhdGgoZmlsZSk7XG5cbiAgICAgIC8vIENyZWF0ZSBkaXJlY3RvcnkgdHJlZSwgaWdub3JpbmcgXCJkaXJlY3RvcnkgZXhpc3RzXCIgVkZTIGVycm9yc1xuICAgICAgY29uc3QgcGFydHMgPSBmaWxlLnNwbGl0KCcvJykuc2xpY2UoMCwgLTEpO1xuICAgICAgbGV0IHBhdGggPSAnJztcbiAgICAgIHdoaWxlIChwYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHBhdGggKz0gcGFydHMuc2hpZnQoKSArICcvJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBweW9kaWRlLkZTLm1rZGlyKHBhdGgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaWYgKGUubmFtZSAhPT0gXCJFcnJub0Vycm9yXCIpIHRocm93IGU7XG4gICAgICAgICAgaWYgKGUuZXJybm8gIT09IDIwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvclRleHRQdHIgPSBhd2FpdCBweW9kaWRlLl9tb2R1bGUuX3N0cmVycm9yKGUuZXJybm8pO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcHlvZGlkZS5fbW9kdWxlLlVURjhUb1N0cmluZyhlcnJvclRleHRQdHIpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGaWxlc3lzdGVtIEVycm9yICR7ZS5lcnJub30gXCIke2Vycm9yVGV4dH1cIi5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gV3JpdGUgdGhpcyBmaWxlIHRvIHRoZSBWRlNcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBweW9kaWRlLkZTLndyaXRlRmlsZShmaWxlLCBuZXcgVWludDhBcnJheShkYXRhKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgIT09IFwiRXJybm9FcnJvclwiKSB0aHJvdyBlO1xuICAgICAgICBjb25zdCBlcnJvclRleHRQdHIgPSBhd2FpdCBweW9kaWRlLl9tb2R1bGUuX3N0cmVycm9yKGUuZXJybm8pO1xuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCBweW9kaWRlLl9tb2R1bGUuVVRGOFRvU3RyaW5nKGVycm9yVGV4dFB0cik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmlsZXN5c3RlbSBFcnJvciAke2UuZXJybm99IFwiJHtlcnJvclRleHR9XCIuYCk7XG4gICAgICB9XG4gICAgfSkucmVkdWNlKChjdXIsIG5leHQpID0+IGN1ci50aGVuKG5leHQpLCBQcm9taXNlLnJlc29sdmUoKSk7XG5cbiAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYFB5b2RpZGUgZW52aXJvbm1lbnQgc2V0dXBgO1xuICAgIGF3YWl0IHNldHVwUHl0aG9uKHB5b2RpZGUpO1xuXG4gICAgc3RhdHVzVGV4dC5yZW1vdmUoKTtcbiAgICBpZiAoc3RhdHVzQ29udGFpbmVyLmNoaWxkcmVuLmxlbmd0aCA9PSAwKSB7XG4gICAgICBzdGF0dXNDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHB5b2RpZGU7XG4gIH0pKCkuY2F0Y2goKGVycikgPT4ge1xuICAgIHN0YXR1c1RleHQuc3R5bGUuY29sb3IgPSBcInZhcigtLWV4ZXJjaXNlLWVkaXRvci1obC1lciwgI0FEMDAwMClcIjtcbiAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gZXJyLm1lc3NhZ2U7XG4gICAgLy9pbmRpY2F0b3JDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5zcGlubmVyLWdyb3dcIikuY2xhc3NMaXN0LmFkZChcImQtbm9uZVwiKTtcbiAgICB0aHJvdyBlcnI7XG4gIH0pO1xuXG4gIC8vIEtlZXAgdHJhY2sgb2YgaW5pdGlhbCBPSlMgYmxvY2sgcmVuZGVyXG4gIGNvbnN0IHJlbmRlcmVkT2pzID0ge307XG5cbiAgY29uc3QgcHJvY2VzcyA9IGFzeW5jIChjb250ZXh0LCBpbnB1dHMpID0+IHtcbiAgICBjb25zdCBweW9kaWRlID0gYXdhaXQgcHlvZGlkZVByb21pc2U7XG4gICAgY29uc3QgZXZhbHVhdG9yID0gbmV3IFB5b2RpZGVFdmFsdWF0b3IocHlvZGlkZSwgY29udGV4dCk7XG4gICAgYXdhaXQgZXZhbHVhdG9yLnByb2Nlc3MoaW5wdXRzKTtcbiAgICByZXR1cm4gZXZhbHVhdG9yLmNvbnRhaW5lcjtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcHlvZGlkZVByb21pc2UsXG4gICAgcmVuZGVyZWRPanMsXG4gICAgcHJvY2VzcyxcbiAgfTtcbn1cbiJ9XX0=
</script>
<div id="exercise-loading-indicator" class="exercise-loading-indicator d-none d-flex align-items-center gap-2">
<div id="exercise-loading-status" class="d-flex gap-2">

</div>
<div class="spinner-grow spinner-grow-sm">

</div>
</div>
<script type="vfs-file">
W10=
</script>
</section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="ojs-module-contents">
    eyJjb250ZW50cyI6W119
    </script>
    <script type="module">
    if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
    window._ojs.paths.runtimeToDoc = "../..";
    window._ojs.paths.runtimeToRoot = "../..";
    window._ojs.paths.docToRoot = "";
    window._ojs.selfContained = false;
    window._ojs.runtime.interpretFromScriptTags();
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/fturci\.github\.io\/course-disordered-matter-slides\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>